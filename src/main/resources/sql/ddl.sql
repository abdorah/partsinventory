BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS bills (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    totalprice REAL NOT NULL CHECK (totalprice >= 0),
    clientname TEXT NOT NULL,
    clientphone TEXT NOT NULL,
    date TEXT NOT NULL  -- SQLite does not have a DATE type, use TEXT
);
CREATE TABLE IF NOT EXISTS categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT,
    image BLOB  -- Use BLOB for binary data in SQLite
);
CREATE TABLE IF NOT EXISTS commands (
    billid INTEGER NOT NULL,
    partid INTEGER NOT NULL,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    priceconsidered REAL NOT NULL CHECK (priceconsidered >= 0),
    PRIMARY KEY (billid, partid),
    FOREIGN KEY (partid) REFERENCES parts(id),
    FOREIGN KEY (billid) REFERENCES bills(id)
);
CREATE TABLE IF NOT EXISTS makers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE
);
CREATE TABLE IF NOT EXISTS parts (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    maker_id INTEGER NOT NULL,
    description TEXT NOT NULL,
    image BLOB,  -- Use BLOB for binary data
    price REAL NOT NULL CHECK (price >= 0),
    quantity INTEGER NOT NULL CHECK (quantity >= 0),
    catid INTEGER NOT NULL,
    FOREIGN KEY (catid) REFERENCES categories(id),
    FOREIGN KEY (maker_id) REFERENCES makers(id)
);
CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT NOT NULL UNIQUE,
    password TEXT NOT NULL,
    role TEXT NOT NULL CHECK (role IN ('admin', 'user', 'guest')),
    firstname TEXT,
    lastname TEXT
);
INSERT INTO "categories" ("id","name","description","image") VALUES (6,'Suspension','Suspension of SUV cars.',X'89504e470d0a1a0a0000000d4948445200000060000000600806000000e29877380000106649444154785eed9d09909c4515c7570a51f1ac528940c2eed733d984105044108fd2e08128282a8a2278a18222a400359480aecaa5a211c311363bdfcc6cb20688126e4a500c87821c72a3208433219890108e84408ee7fff5b1dbf3768eef9a9905e657f5d5ecf6ebe9affbf5ddfdbaa7abab43870e1d5e9e04214dca17e913d2bd439381e2f75745fa271ed24f482bf0f953e9af43c608c5bfa04a740a947f24febed9badd1f14e920f9bd0e29a9a678343d6ff7fde44a7404642bad9f2b73457abf2fef9080288af7e929d15be0e777d63fe1efd9707b87f4d7a10171152f81df77e37b17dbefaf416df8baf4d3a10a69152f417ff00584f3b40defe752dec192b5e27d7273692b84f9370e1beff98c94bfa269a6e27d10ee443c5c13ee92b25724bab32cd25356f18411cce26628de879b207e574f91f695b228e0bbfba0c0ccc26788cc3c47993ee62ab89d873e667a6e807691df19b320e2575ae5afc3b35167026a00326296f49b15bd25da55bf33a4df4a592df265da01df3919cf23aeb0d86723c279169f4f54b887b41a9f97e1396ada22da5c86376640049fc373b1fb1f9de585f87f934dc8723540dff4fd6705c25e83d27b817497e442da037e2ff1947b374afab1f902ed3c7e01bdcef73b6e2ebd3e28d39e8a6b5889fe8a4ce04265d281d939d776df7fdb9914d21b75044b14faee93e7502fdcee184e744877b29bef270df9217a930dbbe2bd3ea3145fa242be44d3a4bf46a0361fca9966c3791e99f76bbc7fbcf4d73610a92578ae93ee0c977e5b7a38f29b9098f3a59fb8f0ac18ca34cd48890e1b25afa6f8224d91fee2824274209ad51b5cb888c7f1d24f5b409353e60875a34a4b99039dda2cee1774c443ba54caa36015ffa761c516e9b40a7993142fe1e12fd27c3dbf039f8bf0ff3ba59f96a215c38a2dd10229f399d04f3965275201da5729af4515c5cfe3f67b58de22c54b10af13bd771e2de52d05d5f34c5b228e93329fa9f3691cfcacd21916d277a4dc67ac2adec7c6e1761b87cb5486fd5c6c10816bad221ecccda3bc943b2696e82b36c24f4b19c39d1e32e9e1068abfca53fc23b9322dcc87f44b74b247b663e59487c3363e2b3037f9b094b70c28aedf53dcfcae05b485f4c34089cfc2ef860a371e6d947487eebecf1ddd22a77c247221dc9ef1e5b51e7c6f1d9e9bf19e1ff8ef682688fbe7959907bdd8d6651244602694bbd62a623d370dd24f60ab2d97d6518a0fe9417c7e0fcfd99e5237787f6f82629704059a9b2bd00c64d05755818e41c99b89ef0e21ecdb5809ce3ffedf04855c9d3b9326c878640dd2f211a44537b178e7d7a4bca9400907ab91f1f24a65e6017a668c4e77151434ddf985026f81b2d89f1ba272662cc6b0f5808a30439a8f709ce257f714e81c5f5e8f1e840525fc05dfd78521304ab96e7c89264abf596297cf1fd2692ad111529e3978118ff5ef728ae78e1833c6d7b20c33cbadf0ff4d4ec9babd66bf46f9c38a6765c970733c13357e3813532d3fab329d05e5af71ef4481b846fac9927c598ff84c2d0fe927529e0950dc826064db70152b7efccccaa9bd43b78fa27d575ca28bf425e997415817693f21adce0dd21e529e149e8f204c5e3ae11ab10a7397bda59fac983c486f858eaeb669cd7639460c0ff9b96bfb0855bb778876c577fbf0ec2a650ed406de986705ade922da4ccab300b5ebef2eee78cfa09467056fa122ad0ff07b78f426e589e0f5141d20461981999a0f2f352031174aff71d87e1e6dadec8c993b5729cf12c4ff7835d2593f307580c6493f5980e1f1fb10fe46bc6f69f70005521e1b6bb1c06bf1c3e35d5e7a768ac3b3161dd1c9fe77a28252a277bbf0cc93b266a033dc9650ce0c14ae63a59f2c40d807e877a0e6a156bf4aca6301251dc281a1f47f5ccae0e6f60678c4b194db7ee9a71e3c3740497941ba371b14a0b92edef87b91946701c2feb1cd8421298b856b82384029632616e9bd78c97dc3198151d04e180d497f12287ec0fa4fd58c2505e9fa3477cc3a0e05ba52cab3201899a856d55d6410c0fd789e90ee3e3ceee7f1bf7d21ef3ad51dc32bdee7c5f0344a66350b1e3623aebc13c605e11229cf02652dff52ada2a2b4cee040f0f91b2993c05fa867c4262356720d917e58e956fe8894b51a94fe6ec497b728397da9f72f2418e5b916245d2d53232b918d27490b688bc0ecb1b2ff0ddb85f4415f8c4efb285d2adad4fc48f243348587c13abe0d6a6e1278574d875da223a52c32768cab67ab88eca228ab8076b4c4256b45857b912eb711faaeefde4e7ae7e839cbf33a7d052a4b795a10eeddba65184cb9848d76dee4a651600181d65df482bf7bd82f2f1ff3ff3c115276137f4a1fbd41fa6f27e351a8941d5e73072ae5694061dccb16c68ba42c3650fc8edeecf8c5a0ce787a4a8176b6fe747bcf230e9781d2ef58a0a7407b0df76119d750847bbacd8443a52c1168cbf74560b75a85de8b5cfeb2f4c32021ff633f6ef6897676238f98a4bfb102efded934adcbd234253f8b5e83301fc5b34cca52a14ca7ea3addcb8341dacd97a313ba82653d736906fe365b7a686f7d3f630dc4f33c5d5a435a2c656940819d6ef5749494a5a2b79fdee6aa987ed83668b6390386bf39d78dfbc8b344869125a88da7a11dbf21e932098338fed7c675a194a501f15a0c5d2dedeacb70f191c7d308f8f75514adc7d8fcf0cc33285b3fe5e619dbb2e2fd38f092074af4fed25f2376e9a72df17d3d32e2bd6d294f8a323b80dc17cc90b2d854513c2fb0ed1398a9fe324ebc623bd2129da1bfd0479b5b7f0f89a032c1aeb07213b724374087a0f62d7371abb51f510f55a0c3acb29e94b23420cc7bf12ce77e41ca22514bf1d25f35a01cb69aab981b64058f30383e8137dc437374a98e6348cff97ea39273cb09253a57ca9282f87ddbc6b3ae694f55901077b2911f5e278aa47887e275f952326534c26df0e0f983ef3e3cf963eb8db86066afe38cf9cbe47276a6ecca6ced3e556b67b12abad47b7bbcf679480dd147a5df5a286361fda274cf825a19c04d5fc09b48255a5be11e11d4f85375b8213d286549714bfd2ace16263cf398fe2afe7b52910ed2cab71981485edb15c1b65ef1ae1a9a21e99e053533a04bd75cbd6cdebb80b695b228287766ad447d5296046b6dbe01e15d216555e18d671b813b7c77de5962e32b96e1733d123aca36c807729d69d3fa8c354596d4cb008c84feccb2a4239a0965fa900dfb19294b0a7439a4e3149292b2aa2863195175691535e05c9ee572807ac859a4c3a51f86ed75b49f127d51cad2523703ecf1d75c8aa3af813d17c7f30c294b0286e37b5b7d45eb8c11795d8abafb696b296378b921e775d20878d4c801738113ac2c730b856667406f8926ebf0138ea8aaa1ccf244b479913236911c8153a4cc470f07edf22ec6d267f9b2609076b24afa8fef9e05cdce0066d8cca55c99aea40cef17887d939a28bbb683849c28653ebc6aaa2762e870f303b47b85cc0c45138d48ead18a0ce03910a7096165127f3648d6f18a7ad091ed5d94dbff6db0ebefda7b645ac5b126654dd2a75e94ad7d4e2b328041baf551dd346b4d3eca9ce6bc49bad7840f4728db2141c9b706754cb4a1fce711e18dbe5bce9caee45153a626e5adca006d0d620a56264bcb88935e7ddda69fb694b2ba70efad4636e1ff982bd054e9475963dec9b3a987cfe0e67893df9c7e67655c2dfda7a15519c0287b78903771a42c2ecaee93236e1f91b286a87eda0e5f2eda84f3f32b3f27d9f8c906ceb6407a73c64e8a7842769f1f565abc0c7858ca32cf808231be42b83748595cf283daa4915b939abb8b0d61232e2ed15601cbf0f7f4de02ed663b2c9739f7f20889fda3f93989dd929ce7ad05d740fb9ebba52ceb0c607820c1614af7d8f4d166caac370d1f824f0c2275b0ab9edeb386d73e7c7fde703493e19c8313c23372e9ee3200c3c7a29425c59967a296ff48cae2a2ccb9bbe5d23d313cd3e5528e6af50b297328d391af94ee6908466c982a4ed6a39af3da55a66bfb28447caf113743b749595cd02ceb1bc32684b48d94350d653b1f94cafda42c29dae430d426e2eb7957cb97e15dffd29910d21cdf3d0dca6c38a55eddb5031a1edaef28654da37790b6b5a5b2eec1efb8f0fcc42afa1fbe7bef6cfdbe8dba89aa71aa332e815b1f4ad9b770dfc8e164d9274642996b6228b5d59840d9e5e3ee127daac23dd47706b1c2aade791197a04cdfe7f0d29e4543bcf6cbba3588049f3dd009c8da1acd1a15ab2a46c0ca9e4196999314fb9e541d289b7bea8221062b2dc1d582acaf1f4098e6444c897ee6bbbbccc1e7a3be7b5294a96d15b3fdb8d84ba63823d39d2748029f8eb42faf79275012269c6d3751aaec412bb39fcd35ef04298b4b608fa94a4bf03804f3699c2d140d8f013405e5c6e9198f023046d7774de484fd7f7e887657667f3bf5aa26379f3a33cb74aa9445c59e37e626e824296b0941c1945624a62c65695166f97b53f7dcca938b6e22c59334df3d2e6c276b9577bd9445a5a78402c105304c718e202d88005fd2413d73e85d529606e5aed809e9f65132730121f1cc5ccaa2b2d3427bea27c5da161bb3d90c3850ca5a46ae401fb0cd457a3b7a813257e58f1aaff71468a64e7891eef1dde36233f871e91e15bd8463c2d853ca5a4a60eef8e49290a97d7e7748dfb28a1e355c4413a44d18d35c67101833ccd5d23d2ac880636c1c6a5e07d712a6184b341e3e3ecb4bdd529e0624f24e5d0bc4f69f776e6d54131515650c79d749f7a8f0e887e3c0ab0352d672a0a0cf6a4515e93c294b83bd629397c7471d10e7a5e55c0a05067ca370987c2ea0789d2aa4c7a47bdb4026ccd19910d237a42c0d50f405ba29426da870b7b7ec767525bb5e40992b3d13ed0de4cd258799af06a402cdcf9b6da256e466677ba01b25fd319db97c9f8345f1d1da14259867d54933008a3f9cbfcbc359296b2bca5d7c91f1f95dbe6e07ca7f52674291d6e7ecda509aa5097b5340a20c54c67afb855dfae9d552d676a0fcd93a134af58dc192608dacf4b6220f53a53c0e8aad3fc2f87d08db85daf435bc1bbb6dd812c225349b239e4d809b2fee88a57b23943bf29b6208dc74b63d435f09f66f9d09a5f46620cdc0169058a3181e60d8da375bcac61cf686c2b528654f760fd0f652de4ef87646adc82ad618b5e093a5cadc40f6189f1590f231094acce76c89b985474952de2e9cc5b75c71ad855df934669bc5d1b7488e6994dbc8e77bec0ad42de5ed0005425bfff1ee9e9449e06f1fb72e55ef9a87310d3aaea36d4db83f4873195246e48c5155c3d3ff683e7f680bcfd32ae6156f630eb77ac8a529caf539cd62e28099aba020dc28650ec495cf1b9bed51f8cb7aebb56d7029527cfd4d48eb93feca525aa0783da1e3053d29f3158f5ab2946b80f4f39227c79768bb0bf83236776f045ffe679b948a3d677bc27e44f11cafb457588e65ec10956f5267655c8e044f927e9a016a9efe392c77cec12a5e6ff66bc5975fe68a97e4ec9aba32bfee77989467091bf9ea5a672c22f8020ead7864cae3baa9c9f236949712288d9f54e6320cce88f3d560b69b3a4c37868fca5ccfc9974f2dee285ea077d5ec46bc6d0e4ecfcaf491275b2edc8ee21ba077d646eea8d6262f697e3b12e12db519ca8a7faaa3f88840591fcbb9df29704d13daed60a0b1294a8e7f7a85afe074d75a9668033ad7e33b8a4f40cf00edaeace9baf72c47065d80d27c319ee3f4d1297358827fd7469b1ceaa74437ea3b833a8a4f8ffe59de82bea7e16428f61a55f9c341feb30435e0d434cd5687084ce3abd4427a4f7e0eedc007d1d1348d7bc92c1177e8d0a143f6fc1f072efc6e73e846460000000049454e44ae426082');
INSERT INTO "makers" ("id","name") VALUES (0,'Bosh'),
 (1,'Mahle'),
 (3,'Garnett');
INSERT INTO "parts" ("id","name","maker_id","description","image","price","quantity","catid") VALUES (1,'Suspension Honda',0,'Suspension of Honda SUV familie: ',NULL,223.149993896484,12,6);
INSERT INTO "users" ("id","username","password","role","firstname","lastname") VALUES (1,'kotbi','pass','admin','Mohamed','Kotbi');
INSERT INTO "users" ("id","username","password","role","firstname","lastname") VALUES (2,'simo','pass','user','Mohamed','Kotbi');

COMMIT;
